CREATE TABLE IF NOT EXISTS dicom_analyze_result
(
    id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    dicom_file_name VARCHAR(1000),
    dicom_file_path VARCHAR(1000),
    prediction_time DOUBLE PRECISION,
    frontal_score   DOUBLE PRECISION,
    member_id       BIGINT,
    created_at      TIMESTAMP,
    updated_at      TIMESTAMP,
    version         INT,
    CONSTRAINT pk_dicom_analyze_result PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS member
(
    id              BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    user_name       VARCHAR(100)                            NOT NULL,
    password        VARCHAR(1000)                           NOT NULL,
    email           VARCHAR(320),
    is_enabled      BOOLEAN DEFAULT TRUE                    NOT NULL,
    max_analyze_cnt INT                                     NOT NULL,
    cur_analyze_cnt INT                                     NOT NULL,
    role            VARCHAR(100)                            NOT NULL,
    expire_duration BIGINT,
    created_at      TIMESTAMP,
    updated_at      TIMESTAMP,
    version         INT,
    CONSTRAINT pk_member PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS token
(
    id         BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    jwt_token  VARCHAR(1000),
    expires_at TIMESTAMP,
    token_type VARCHAR(255),
    member_id  BIGINT,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    version    INT,
    CONSTRAINT pk_token PRIMARY KEY (id)
);